<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>src/view.js - yam</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.9.1/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="shortcut icon" type="image/png" href="../assets/favicon.png">
    <script src="http://yui.yahooapis.com/combo?3.9.1/build/yui/yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
            
                <h1><img src="../assets/css/logo.png" title="yam"></h1>
            
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: 0.3.0</em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
    <h2 class="off-left">APIs</h2>
    <div id="api-tabview" class="tabview">
        <ul class="tabs">
            <li><a href="#api-classes">Classes</a></li>
            <li><a href="#api-modules">Modules</a></li>
        </ul>

        <div id="api-tabview-filter">
            <input type="search" id="api-filter" placeholder="Type to filter APIs">
        </div>

        <div id="api-tabview-panel">
            <ul id="api-classes" class="apis classes">
            
                <li><a href="../classes/ya.html">ya</a></li>
            
                <li><a href="../classes/ya.$promise.html">ya.$promise</a></li>
            
                <li><a href="../classes/ya.Ajax.html">ya.Ajax</a></li>
            
                <li><a href="../classes/ya.ajax.JSON.html">ya.ajax.JSON</a></li>
            
                <li><a href="../classes/ya.Collection.html">ya.Collection</a></li>
            
                <li><a href="../classes/ya.collection.$manager.html">ya.collection.$manager</a></li>
            
                <li><a href="../classes/ya.Controller.html">ya.Controller</a></li>
            
                <li><a href="../classes/ya.controller.$manager.html">ya.controller.$manager</a></li>
            
                <li><a href="../classes/ya.Core.html">ya.Core</a></li>
            
                <li><a href="../classes/ya.data.Action.html">ya.data.Action</a></li>
            
                <li><a href="../classes/ya.data.Proxy.html">ya.data.Proxy</a></li>
            
                <li><a href="../classes/ya.data.proxy.LocalStorage.html">ya.data.proxy.LocalStorage</a></li>
            
                <li><a href="../classes/ya.Error.html">ya.Error</a></li>
            
                <li><a href="../classes/ya.event.$dispatcher.html">ya.event.$dispatcher</a></li>
            
                <li><a href="../classes/ya.Job.html">ya.Job</a></li>
            
                <li><a href="../classes/ya.Manager.html">ya.Manager</a></li>
            
                <li><a href="../classes/ya.mixins.Array.html">ya.mixins.Array</a></li>
            
                <li><a href="../classes/ya.mixins.CoreStatic.html">ya.mixins.CoreStatic</a></li>
            
                <li><a href="../classes/ya.mixins.CSSStyle.html">ya.mixins.CSSStyle</a></li>
            
                <li><a href="../classes/ya.mixins.DOM.html">ya.mixins.DOM</a></li>
            
                <li><a href="../classes/ya.mixins.GetSet.html">ya.mixins.GetSet</a></li>
            
                <li><a href="../classes/ya.mixins.Observable.html">ya.mixins.Observable</a></li>
            
                <li><a href="../classes/ya.Model.html">ya.Model</a></li>
            
                <li><a href="../classes/ya.Module.html">ya.Module</a></li>
            
                <li><a href="../classes/ya.Router.html">ya.Router</a></li>
            
                <li><a href="../classes/ya.util.$detection.html">ya.util.$detection</a></li>
            
                <li><a href="../classes/ya.util.Parallel.html">ya.util.Parallel</a></li>
            
                <li><a href="../classes/ya.View.html">ya.View</a></li>
            
                <li><a href="../classes/ya.view.$manager.html">ya.view.$manager</a></li>
            
                <li><a href="../classes/ya.view.TDOM.html">ya.view.TDOM</a></li>
            
                <li><a href="../classes/ya.view.Template.html">ya.view.Template</a></li>
            
                <li><a href="../classes/ya.view.template.$manager.html">ya.view.template.$manager</a></li>
            
            </ul>

            <ul id="api-modules" class="apis modules">
            
                <li><a href="../modules/ya.html">ya</a></li>
            
            </ul>
        </div>
    </div>
</div>

            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
        Show:
        <label for="api-show-inherited">
            <input type="checkbox" id="api-show-inherited" checked>
            Inherited
        </label>

        <label for="api-show-protected">
            <input type="checkbox" id="api-show-protected">
            Protected
        </label>

        <label for="api-show-private">
            <input type="checkbox" id="api-show-private">
            Private
        </label>
        <label for="api-show-deprecated">
            <input type="checkbox" id="api-show-deprecated">
            Deprecated
        </label>

    </div>


            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1 class="file-heading">File: src/view.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
/**
 * @author Sebastian Widelak &lt;sebakpl@gmail.com&gt;
 * @module ya
 * @class ya.View
 *
 *
 */

/*
 * TODO: wywalic namespacey! zamiast tego dodac wartosc property ktora bedzie mowila by pod jakim kluczem znajduje sie model
 * TODO: lub kolekcja. Modele przetrzymywac w obiekcie zamiast tablicy. models:{klucz:model}
 */
(function (undefined) {
    &quot;use strict&quot;;
    // todo: focus and blur implemented here
    var ya = window.ya,
        style = document.createElement(&#x27;style&#x27;),
        __slice = Array.prototype.slice,
        focused = [],
        resize = 0,
        iv = 0,
        View;

    function onWindowResize(e) {
        // When resize event occur wait 32 miliseconds
        // to not firing it to often.

        if (resize === 0) {
            iv = setInterval(function () {
                fireResizeEvent(e);
            }, 32);
        }

        resize = +new Date();
    }

    // todo: focus and blur implemented here
    function onWindowClick(e) {
        var el = e.toElement || e.relatedTarget || e.target,
            _el = el,
            DOMmixin = ya.mixins.DOM,
            __isChild = DOMmixin.isChild,
            __isElement = DOMmixin.isElement,
            view, _view, toIterate;

        while (_el &amp;&amp; __isElement(_el)) {

            if (_el.hasAttribute(&#x27;ya-class&#x27;)) {

                view = ya.view.$manager.getItem(_el.getAttribute(&#x27;id&#x27;));
                view.focus();

                break;

            }

            _el = _el.parentNode;

        }

        if (!view) {

            toIterate = focused.length;
            while (toIterate--) {

                _view = focused[toIterate];
                _view.blur();

            }

            return void 0;
        }

        toIterate = focused.length;
        while (__isElement(el) &amp;&amp; toIterate--) {

            _view = focused[toIterate];
            if (view.getId() !== _view.getId()) {

                if (!__isChild(_view._el, el)) {

                    _view.blur();

                }

            }

        }


    }

    function fireResizeEvent(e) {
        // Fire ya resize event only on components
        // which need to be fitted to their parents.
        var views,
            view,
            l,
            i,
            now = +new Date();

        if (now - resize &gt;= 32) {

            clearInterval(iv);

            resize = 0;
            views = ya.view.$manager.getItems();
            l = views.length;
            i = 0;

            while (i &lt; l) {
                view = views[i];

                if (view &amp;&amp; view.item.getFit()) {

                    if (view.item.isInDOM()) {

                        view
                            .item.
                            fireEvent(&#x27;resize&#x27;, views[i], e);

                    }

                }

                i++;
            }
        }
    }

    // Append some basic css to document.
    style.innerHTML = &quot;.ya.inline {display:inline;} .ya.hidden {display: none !important;}&quot;;
    style.setAttribute(&#x27;type&#x27;, &#x27;text/css&#x27;);

    document.body.appendChild(style);
    window.addEventListener(&#x27;resize&#x27;, onWindowResize);
    window.addEventListener(&#x27;mouseup&#x27;, onWindowClick);

    /**
     * @namespace ya
     * @class View
     * @constructor
     * @extends ya.Core
     * @uses ya.mixins.DOM
     * @params opts Object with configuration properties
     * @type {function}
     * TODO: to samo co dla modeli, mamy obiekt widok√≥w views:{view1:{class:ya.grid.row.View, arguments:[]}}, a pozniej w html bindujemy tak ya-view=&quot;view1&quot;
     */
    ya.Core.$extend({
        module: &#x27;ya&#x27;,
        alias: &#x27;View&#x27;,
        // &#x60;ya.View&#x60; accept few configuration properties:
        // * &#x60;parent&#x60; - pointer to parent view
        // * &#x60;fit&#x60; - if true, component will fire resize event when size
        // of window was changed
        // * &#x60;hidden&#x60; - if true, component will be hidden after render
        defaults: {
            id: null,
            /**
             * @attribute config.parent
             * @type ya.View
             */
            parent: null,
            /**
             * @attribute config.children
             * @type Array
             */
            children: null,
            /**
             * @attribute config.fit
             * @type boolean
             */
            fit: false,
            /**
             * @attribute config.hidden
             * @type boolean
             */
            hidden: false,
            /**
             * @attribute config.models
             * @type ya.Model
             */
            models: null,
            /**
             * @attribute config.collections
             * @type ya.Collection
             */
            collections: null,
            /**
             * @attribute config.autoCreate
             * @type boolean
             */
            autoCreate: false,
            /**
             * @attribute config.renderTo
             * @type boolean
             */
            renderTo: null,
            /**
             * @attribute config.renderAt
             * @type boolean
             */
            renderAt: null,
            /**
             * @attribute config.tpl
             * @type ya.view.Template|String
             * @required
             */
            tpl: null,
            /**
             * @attribute config.hideCls
             * @type String
             */
            hideCls: &#x27;hidden&#x27;
        },
        mixins: [
            ya.mixins.Array,
            ya.mixins.DOM
        ],
        /**
         * @method init
         * @param opts
         * @returns {View}
         * @chainable
         */
        init: function (opts) {
            // Initializing function in which we call parent method, merge previous
            // configuration with new one, set id of component, initialize config
            // and save reference to component in View Manager.
            var me = this;

            me
                .__super(opts)
                .initModels()
                .initTemplate()
                .initParent()
                .initChildren();

            ya.view.$manager.register(me.getId(), me);

            return me;
        },
        initRequired: function () {
            var me = this;

            if (!me.getTpl()) {

                throw ya.Error.$create(me.__class__ + &#x27;: no tpl set for &#x27; + me.getId(), &#x27;YV1&#x27;);

            }

            return me;
        },
        /**
         * @method initDefaults
         * @returns {*}
         */
        initDefaults: function () {
            var me = this;

            if (me.getId()) {

                me.setId(me.getId());

                me.set(&#x27;customId&#x27;, true);

            } else {

                me.setId(&#x27;view-&#x27; + ya.view.$manager.getUniqueId());
                me.set(&#x27;customId&#x27;, false);

            }

            me
                .setChildren(
                me.getChildren() || []
            );

            me
                .setModels(
                me.getModels() || []
            );

            me
                .setCollections(
                me.getCollections() || []
            );


            me
                .set(&#x27;eventHandlers&#x27;, []);
            return me;
        },
        /**
         * @method initTemplate
         * @returns {View}
         * @chainable
         */
        initModels: function () {
            var me = this;

            me.each(
                me.getModels(),
                function (model, i, array) {

                    if (!(model instanceof ya.Model)) {

                        if (!model.alias) {

                            model.module = &#x27;ya&#x27;;
                            model.alias = &#x27;Model&#x27;;

                        }

                        try {

                            array[i] = ya.$factory(model);

                        } catch (e) {

                            throw ya.Error.$create(me.__class__ + &#x27;: Can not create model&#x27;, &#x27;YV2&#x27;);

                        }
                    }
                });

            return me;
        },
        /**
         * @method initTemplate
         * @returns {View}
         * @chainable
         */
        initTemplate: function () {
            var me = this,
                tpl = me.getTpl(),
                div = document.createElement(&#x27;div&#x27;);

            if (!(tpl instanceof ya.view.Template)) {
                // If tpl is not a ya.view.Template object

                if (
                    tpl instanceof Array || typeof tpl === &#x27;array&#x27; ||
                    typeof tpl == &#x27;string&#x27; || tpl instanceof String
                ) {
                    // if its an array with html def
                    // prepare configuration object and
                    // instantiate it via factory method.
                    tpl = ya.$factory({
                        module: &#x27;ya&#x27;,
                        alias: &#x27;view.Template&#x27;,
                        tpl: tpl
                    });

                } else if (tpl instanceof Object || typeof tpl === &#x27;object&#x27;) {
                    // Or if its a configuration object
                    // do the same.
                    if (!tpl.alias) {
                        tpl.module = &#x27;ya&#x27;;
                        tpl.alias = &#x27;view.Template&#x27;;
                    }

                    tpl = ya.$factory(tpl);
                }


            }

            me.setTpl(tpl);

            return me;
        },
        /**
         * @method initParent
         * @returns {View}
         * @chainable
         */
        initParent: function () {
            var me = this,
                parent = me.getParent();

            if (parent) {

                parent.getChildren().push(me);

            }

            return me;
        },
        /**
         *
         * @returns {*}
         */
        initChildren: function () {
            var me = this,
                children = me.getChildren();

            me.each(children, function (v) {
                v.setParent(me);
            });

            return me;
        },
        /**
         * @returns {View}
         */
        setModel: function (model) {
            var me = this,
                models = me.getModels();

            if (!(model instanceof ya.Model)) {

                if (!model.alias) {

                    model.module = &#x27;ya&#x27;;
                    model.alias = &#x27;Model&#x27;;

                }

                model = ya.$factory(model);
            }

            if (!me.hasModel(model.getNamespace())) {

                models.push(model);
                me.setModels(models);

            }

            return me;
        },
        hasModel: function (namespace) {
            var models = this.getModels(),
                l;

            l = models.length;
            while (l--) {
                if (models[l].getNamespace() === namespace) {
                    return true;
                }
            }

            return false;
        },
        /**
         * @param namespace
         * @returns {ya.Model}
         */
        getModel: function (namespace) {
            var me = this,
                models = me.getModels(),
                model = null,
                l;

            l = models.length;
            while (l--) {
                if (models[l].getNamespace() === namespace) {
                    model = models[l];
                    break;
                }
            }

            return model;
        },
        /**
         * @returns {View}
         */
        setCollection: function (collection) {
            var me = this,
                collections = me.getCollections();

            if (!(collection instanceof ya.Collection)) {

                if (!collection.alias) {

                    collection.module = &#x27;ya&#x27;;
                    collection.alias = &#x27;Model&#x27;;

                }

                collection = ya.$factory(collection);
            }

            if (
                !me
                    .hasCollection(collection.getId())
            ) {

                collections.push(collection);
                me.setCollections(collections);

            }

            return me;
        },
        hasCollection: function (id) {
            var collections = this.getCollections(),
                l;

            l = collections.length;
            while (l--) {
                if (collections[l].getId() === id) {
                    return true;
                }
            }

            return false;
        },
        /**
         * @param namespace
         * @returns {ya.Collection}
         */
        getCollection: function (namespace) {
            var me = this,
                collections = me.getCollections(),
                collection = null,
                l;

            l = collections.length;
            while (l--) {
                if (collections[l].getNamespace() === namespace) {
                    collection = collections[l];
                    break;
                }
            }

            return collection;
        },
        compile: function () {
            var me = this, tdom, edom;

            tdom = me.getTpl()
                .getTDOMInstance(me);

            edom = tdom
                .getEDOM();

            me.set(&#x27;tdom&#x27;, tdom);
            me.set(&#x27;edom&#x27;, edom);

            if (me.getHidden()) {
                me.hide();
            }

            me
                .onCompile();

            me
                .fireEvent(&#x27;compile&#x27;, me, tdom);

            return me;
        },
        /**
         * @returns {this}
         */
        render: function () {
            var me = this,
                parent = me.getParent(),
                selector = me.getRenderTo(),
                el, parentNode;

            // get parent node
            parentNode = selector instanceof HTMLElement ? selector : me.getParentNode(selector, true);

            if (!me.get(&#x27;tdom&#x27;)) {
                // compile template if we run render first time
                me.compile();
            }

            if (parentNode) {
                // if there is no another root view object and parent node was found

                if (me.isInDOM()) {
                    // if view was already rendered
                    // remove dom from document
                    me.clear();

                }

                // prepare elements
                me.prepareElements();

                // set referrer to the root node
                if (me.get(&#x27;elements&#x27;).length === 1) {
                    me.set(&#x27;el&#x27;, me.get(&#x27;elements&#x27;)[0]);
                } else {
                    me.set(&#x27;el&#x27;, parentNode);
                }

                if (me.hasChildren()) {
                    // if view has children render them also
                    me.renderChildren();
                }

                // add proper class if view shoudlnt be visible
                if (me.getHidden()) {
                    me.get(&#x27;el&#x27;).classList.add(me.getHideCls());
                    me.set(&#x27;visible&#x27;, false);
                }

                // add element(s) to the DOM
                parentNode.insertBefore(
                    me.get(&#x27;edom&#x27;),
                    me.getRenderAt() === null ? null : parentNode.childNodes.item(me.getRenderAt())
                );

                me.set(&#x27;isInDOM&#x27;, true);

                if (parent &amp;&amp; parent.isInDOM() || !parent) {
                    ya.event.$dispatcher.apply(me);
                }

                me.onRender();
                me.fireEvent(&#x27;render&#x27;, me, parent);

            }
        },
        renderChildren: function () {
            var me = this;

            me.each(me.getChildren(), function (r) {
                r.appendTo(me, r.getRenderTo());
            });
        },
        /**
         * @version 0.1.12
         */
        clear: function () {
            var me = this;

            //todo: blur when cleared
            me
                .blur();

            me
                .removeFromDOM();

            return me;
        },
        /**
         * @param selector
         * @returns {Node}
         */
        querySelector: function (selector) {
            var me = this,
                el = me.isInDOM() ? me.get(&#x27;el&#x27;) : me.get(&#x27;edom&#x27;);

            return el.querySelector(selector) ||
            (me.isQueryMatch(selector, el) ? el : null);
        },
        /**
         * @param selector
         * @returns {Array}
         */
        querySelectorAll: function (selector) {
            var me = this,
                el = me.isInDOM() ? me.get(&#x27;el&#x27;) : me.get(&#x27;edom&#x27;),
                results = __slice.call(el.querySelectorAll(selector) || [], 0);

            if (me.isQueryMatch(selector, el)) {

                results.push(el);

            }

            return results;
        },
        /**
         * @param view
         * @param selector
         * @returns {View}
         */
        addChild: function (view, selector) {
            var me = this,
                parent = view.getParent();

            if (parent &amp;&amp; parent.getId() != me.getId()) {
                parent.removeChild(me);
            }

            if (!me.getChild(view.getId())) {

                me.getChildren().push(view);
                view.setParent(me);

            }

            view.appendTo(me, selector);
            me.fireEvent(&#x27;childAdded&#x27;, me, view);

            return me;
        },
        /**
         * @param id
         * @returns {View||Boolean}
         */
        getChild: function (id) {
            var me = this,
                views = this.getChildren();

            if (me.findChild(id) &lt; 0)
                return null;

            return views[me.findChild(id)];
        },
        getChildByClass: function (className) {
            var me = this,
                views = me.getChildren(),
                some = ya.mixins.Array.some,
                idx;

            if (!some(views, function (child, i) {
                    if (child.__class__ === className) {
                        idx = i;
                        return true;
                    }
                })) {
                return null;
            }

            return views[idx];
        },
        /**
         *
         * @param id
         * @returns {*|length|length|Function|length|length}
         */
        findChild: function (id) {
            var views = this.getChildren(),
                l = views.length;

            while (l--) {
                if (views[l].getId() === id)
                    break;
            }

            return l;
        },
        /**
         *
         * @param view
         * @returns {*|null}
         */
        removeChild: function (view) {
            var views = this.getChildren(),
                l = views.length,
                removed;

            while (l--) {
                if (views[l].getId() === view.getId()) {


                    removed = views.splice(l, 1)[0];

                    removed
                        .removeFromDOM()
                        .setParent(null);

                }
            }

            return removed;
        },
        /**
         * @returns {Array}
         */
        removeChildren: function () {
            var views = this.getChildren(),
                l = views.length,
                removed = [];

            while (l--) {
                removed.push(views[l].removeFromDOM());
            }


            return removed;
        },
        /**
         * @returns {View}
         */
        removeFromDOM: function () {
            var me = this,
                el = me.get(&#x27;el&#x27;),
                children;

            if (me.isInDOM()) {

                children = el
                    .parentNode
                    .removeChild(el);

                me.set(&#x27;isInDOM&#x27;, false);
                me.get(&#x27;edom&#x27;)
                    .appendChild(children);

            }

            return me;
        },
        /**
         * @returns {Boolean}
         */
        isInDOM: function () {
            return this._isInDOM === true;
        },
        /**
         *
         * @param selector
         * @param globally
         */
        getParentEl: function (selector, globally) {
            var me = this,
                parent = me._config.parent,
                parentEl;

            if (me.isElement(selector)) {

                parentEl = selector;

            } else if (parent) {

                parentEl = selector ? parent.querySelector(selector) : parent._el;

            } else if (globally) {

                parentEl = document.querySelector(selector);

            }

            return parentEl;
        },
        /**
         * @private
         * @param parent
         * @param selector
         * @returns {*}
         */
        appendTo: function (parent, selector) {
            var me = this;

            me.render();

            return me;
        },
        /**
         *
         * @param selector
         * @param globally
         * @returns {*}
         */
        getParentNode: function (selector, globally) {
            var me = this,
                parent = me.getParent(),
                parentEl;

            if (me.isElement(selector)) {

                parentEl = selector;

            } else if (parent) {

                parentEl = selector ?
                    parent.querySelector(selector) :
                    (parent.isInDOM() ? parent.get(&#x27;el&#x27;) : parent.get(&#x27;edom&#x27;).firstChild);

            } else if (globally) {

                parentEl = document.querySelector(selector);

            }

            return parentEl;
        },
        hasChildren: function () {
            return this.getChildren().length &gt; 0;
        },
        /**
         *
         * @returns {this}
         */
        prepareElements: function () {
            var me = this;
            me.set(&#x27;elements&#x27;,
                me.get(&#x27;edom&#x27;).childNodes.length &gt; 1 ?
                    Array.prototype.slice.call(me.get(&#x27;edom&#x27;).childNodes) : [me.get(&#x27;edom&#x27;).firstChild]
            );
            return me;
        },
        /**
         * @returns {View}
         */
        reAppendChildren: function () {
            var views = this.getChildren(),
                l = views.length,
                i = 0;

            for (; i &lt; l; i++) {
                views[i].appendTo(this);
            }

            return this;
        },
        //todo: focus and blur
        focus: function () {
            var me = this,
                Array = ya.mixins.Array,
                __find = Array.find;

            if (me._destroyed) {
                return false;
            }

            var idx = __find(focused, &#x27;_config.id&#x27;, me.getId());

            if (idx &lt; 0 &amp;&amp; me.isInDOM()) {

                focused
                    .push(me);

                me
                    .set(&#x27;focused&#x27;, true);

                me
                    .fireEvent(
                    &#x27;focus&#x27;,
                    me
                );
            }

            return me;
        },
        blur: function () {
            var me = this,
                __find = ya.mixins.Array.find,
                idx = __find(focused, &#x27;_config.id&#x27;, me.getId());

            if (idx &gt;= 0) {

                focused
                    .splice(idx, 1);

                me
                    .set(&#x27;focused&#x27;, false);
                me
                    .fireEvent(&#x27;blur&#x27;);

            }

            return me;
        },
        isFocus: function () {
            return this._focused;
        },
        /**
         * @returns {Boolean}
         */
        isVisible: function () {
            return this._visible &amp;&amp; this.isInDOM();
        },
        /**
         *
         * @returns {Boolean}
         */
        hasCustomId: function () {
            return this._customId;
        },
        /**
         * @returns {View}
         */
        show: function () {
            var me = this;


            if (!me._el)
                return me;

            me
                ._el
                .classList
                .remove(
                me.getHideCls()
            );

            me
                .set(&#x27;visible&#x27;, true);
            me
                .fireEvent(&#x27;show&#x27;, me);

            ya.Job
                .$create({
                    config: {
                        repeat: 1,
                        task: function () {

                            me.focus();

                        }
                    }
                }).doIt();

            return me;
        },
        /**
         * @returns {View}
         */
        hide: function () {
            var me = this;

            if (!me._el)
                return me;

            //todo: added blur action
            me.blur();

            me._el.classList.add(me.getHideCls());

            me.set(&#x27;visible&#x27;, false);

            me.fireEvent(&#x27;hide&#x27;, me);

            return me;
        },
        toggle: function () {
            var me = this;

            if (me._visible) {

                me.hide();

            } else {

                me.show();

            }

        },
        onCompile: function () {
        },
        // abstract
        onRender: function () {
        },
        //todo : destory
        destroy: function () {
            var me = this,
                $colManager = ya
                    .collection
                    .$manager;

            //todo: blur when cleared
            me
                .blur();


            // unbind from parent
            if (me.getParent()) {

                me
                    .getParent()
                    .removeChild(me);

            }

            // clear dom
            if (me.isInDOM()) {

                me
                    .clear();

            }

            // deregister from manager
            ya
                .view
                .$manager
                .deregister(
                me.getId()
            );


            // kill all collection connected with view
            // TODO: we should kill only those which were created by view
            me.each(
                me.getCollections(),
                function (c) {
                    $colManager
                        .deregister(
                        c.getId()
                    );
                }
            );

            me
                .__super();

            return me;
        }
    });

}());
    </pre>
</div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/../api.js"></script>
<script src="../assets/js/api-filter.js"></script>
<script src="../assets/js/api-list.js"></script>
<script src="../assets/js/api-search.js"></script>
<script src="../assets/js/apidocs.js"></script>
</body>
</html>
